<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>t2a21-collision-hayden</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #eef;
    }

    /* Player + Enemy */
    #myImg01, #myImg02 {
        position: absolute;
        width: 100px;   /* Adjust player/enemy size here */
        height: 100px;
    }

    /* Starting positions */
    #myImg01 { left: 20px; top: 20px; }
    #myImg02 { left: 300px; top: 200px; }
</style>
</head>
<body tabindex="0">

<!-- Player and enemy -->
<img id="myImg01" src="ignore/BaskingShark.jpg">
<img id="myImg02" src="ignore/pukeko.jpg">

<script>
// ------------------------------
// GET BOUNDING BOX
// ------------------------------
function getBox(id) {
    return document.getElementById(id).getBoundingClientRect();
}

// ------------------------------
// COLLISION DETECTION
// ------------------------------
function myHitOther(id1, id2) {
    const a = getBox(id1);
    const b = getBox(id2);

    return !(
        a.right < b.left ||
        a.left > b.right ||
        a.bottom < b.top ||
        a.top > b.bottom
    );
}

// ------------------------------
// CHECK HIT
// ------------------------------
function myCheckHit() {
    if (myHitOther('myImg01', 'myImg02')) {
        alert("You lose!");
        const p = document.getElementById('myImg01');
        p.style.left = "20px";
        p.style.top  = "20px";
    }
}

// ------------------------------
// MOVEMENT SYSTEM (ARROWS + WASD) with boundaries
// ------------------------------
document.body.focus(); // ensure body has focus for key events

document.body.addEventListener("keydown", function(event) {
    const player = document.getElementById("myImg01");
    const speed = 10;

    // Current position
    let left = parseInt(player.style.left);
    let top  = parseInt(player.style.top);

    // Movement
    if ((key["ArrowUp"] || key["w"] || key["W"[)   && this.x. > 0) {
        this.vy=player_move_speed;
    }
    if (event.key === "ArrowDown" || event.key === "s" || event.key === "S")  top  += speed;
    if (event.key === "ArrowLeft" || event.key === "a" || event.key === "A")  left -= speed;
    if (event.key === "ArrowRight" || event.key === "d" || event.key === "D") left += speed;

    // Boundaries (stay inside viewport)
    const maxLeft = window.innerWidth - player.offsetWidth;
    const maxTop  = window.innerHeight - player.offsetHeight;

    left = Math.max(0, Math.min(left, maxLeft));
    top  = Math.max(0, Math.min(top, maxTop));

    // Apply position
    player.style.left = left + "px";
    player.style.top  = top  + "px";

    // Check collision
    myCheckHit();
});
</script>

</body>
</html>
