<h6> Version 0.0.1 </h6>

<body id="myBody"
style="background-repeat:repeat; background-size:80%"
background="myBackground01.jpg"
onkeydown="myKeyDown(event)">

<h1 align=center>t2a25-game-template-fred.html</h1>
<br><br>

<script>
/* =========================
   GLOBAL VARIABLES
========================= */
let myGlobalX = 0
let myClock
let myPlayerYSpeed = 0
let myOnGround = false

/* =========================
   COLLISION FUNCTION
========================= */
function myHitOther(my1,my2){
   let left1   = parseInt(document.getElementById(my1).style.left)
   let right1  = left1 + parseInt(document.getElementById(my1).style.width)
   let top1    = parseInt(document.getElementById(my1).style.top)   
   let bottom1 = top1 + parseInt(document.getElementById(my1).style.height)

   let left2   = parseInt(document.getElementById(my2).style.left)
   let right2  = left2 + parseInt(document.getElementById(my2).style.width)
   let top2    = parseInt(document.getElementById(my2).style.top)   
   let bottom2 = top2 + parseInt(document.getElementById(my2).style.height)

   if ((right1 >= left2) && (bottom1 >= top2) &&
       (left1 <= right2) && (top1 <= bottom2)) {
       return true
   }
   return false
}

/* =========================
   GAME LOGIC
========================= */
function myCheckHit(){
   if (myHitOther('myImg01','myImg02')){
       alert('you lose')
       document.getElementById('myImg01').style.left = '50px'
       document.getElementById('myImg01').style.top  = '300px'
   }
}

/* =========================
   KEYBOARD CONTROLS
========================= */
function myKeyDown(e){
   let myImg = document.getElementById('myImg01')

   if (e.key == 'd'){
      myImg.style.left =
         parseInt(myImg.style.left) + 10 + 'px'
   }

   if (e.key == 'a'){
      myImg.style.left =
         parseInt(myImg.style.left) - 10 + 'px'
   }

   if (e.key == 'w' && myOnGround){
      myPlayerYSpeed = -15
      myOnGround = false
   }
}

/* =========================
   GAME LOOP
========================= */
setInterval(function(){

   let myImg = document.getElementById('myImg01')

   // gravity
   myPlayerYSpeed += 1
   myImg.style.top =
      parseInt(myImg.style.top) + myPlayerYSpeed + 'px'

   // floor
   if (parseInt(myImg.style.top) > 300){
      myImg.style.top = '300px'
      myPlayerYSpeed = 0
      myOnGround = true
   }

   // enemy patrol
   let enemy = document.getElementById('myImg02')
   enemy.style.left =
      parseInt(enemy.style.left) + 3 + 'px'

   if (parseInt(enemy.style.left) > 500){
      enemy.style.left = '250px'
   }

   myCheckHit()

}, 50)
</script>

<img id="myImg01"
style="position:absolute; width:80px; height:80px; top:300px; left:50px;"
src="myImage01.jpg">

<img id="myImg02"
style="position:absolute; width:80px; height:80px; top:300px; left:250px;"
src="myImage02.jpg">

<br><br>

<input type=button value="Scroll Background Left" onclick="{
  clearInterval(myClock)
  myClock = setInterval(function(){
    myGlobalX -= 5
    document.getElementById('myBody').style.backgroundPosition =
      myGlobalX + 'px 0px'
  }, 100)
}">
